/*!
*   shadowOn jQuery plugin
*   Written by David Hansson 2010
*   http://shadowon.codeplex.com/
*
*   Copyright 2010, MIT License
*   http://shadowon.codeplex.com/license
*	 This copyright header must be kept intact!
*
*   Based on "Javascript Drop Shadows" written by James Player 2009
*   http://www.springload.co.nz/love-the-web/javascript-drop-shadoww
*/
(function(a){a.fn.shadowOn=function(m){var c=a.extend({},a.fn.shadowOn.defaults,m);a(this).each(function(){if(/^(?:a|button|div|dl|fieldset|form|h1|h2|h3|h4|h5|h6|hr|iframe|img|input|ol|select|span|table|textarea|ul)$/i.test(this.tagName)){var e=c.imagepath,f=c.imageset,n=c.autoresize,o=c.resizetimer,p=this.tagName=="DIV"?false:true,g=a(this).outerWidth(),h=a(this).outerHeight(),r=g>22,s=h>21,j=jQuery.Guid.New(),d=a(this).css("zIndex"),k=a(this).offset(),l=a(this).css("position");if(l.length<8)l=
"relative";d=d=="auto"?-1:parseInt(d)-10;var i=a(this);if(p){if(a(this).hasClass("shadowOnWrapper")){a("#"+a(this).attr("rel")).remove();a(this).removeClass("shadowOnWrapper")}a(this).attr("rel",j).addClass("shadowOnWrapper").css("position",l);i=a("<div></div>").attr("id",j).css({position:"absolute",top:k.top+"px",left:k.left+"px",width:g+"px",height:h+"px",zIndex:d})}else a(i).addClass("shadowOn").css("position",l).children("div.shadowOnBit").remove().end();a(i).append('<div class="shadowOnBit" style="background:url('+
e+"/set"+f+"/tl.png) no-repeat;width:25px;height:25px;position:absolute;top:-10px;left:-12px;margin:0;padding:0;z-index:"+d+'"></div>').append('<div class="shadowOnBit" style="background:url('+e+"/set"+f+"/tr.png) no-repeat;width:25px;height:25px;position:absolute;top:-10px;left:"+(g-9)+"px;margin:0;padding:0;z-index:"+d+'"></div>').append('<div class="shadowOnBit" style="background:url('+e+"/set"+f+"/br.png) no-repeat;width:25px;height:25px;position:absolute;top:"+(h-6)+"px;left:"+(g-9)+"px;margin:0;padding:0;z-index:"+
d+'"></div>').append('<div class="shadowOnBit" style="background:url('+e+"/set"+f+"/bl.png) no-repeat;width:25px;height:25px;position:absolute;top:"+(h-6)+"px;left:-12px;margin:0;padding:0;z-index:"+d+'"></div>');r&&a(i).append('<div class="shadowOnBit" style="background:url('+e+"/set"+f+"/t.png) repeat-x;width:"+(g-22)+"px;height:10px;position:absolute;top:-10px;left:13px;margin:0;padding:0;z-index:"+d+'"></div>').append('<div class="shadowOnBit" style="background:url('+e+"/set"+f+"/b.png) repeat-x;width:"+
(g-22)+"px;height:19px;position:absolute;top:"+h+"px;left:13px;margin:0;padding:0;z-index:"+d+'"></div>');s&&a(i).append('<div class="shadowOnBit" style="background:url('+e+"/set"+f+"/r.png) repeat-y;width:15px;height:"+(h-21)+"px;position:absolute;top:15px;left:"+g+"px;margin:0;padding:0;z-index:"+d+'"></div>').append('<div class="shadowOnBit" style="background:url('+e+"/set"+f+"/l.png) repeat-y;width:12px;height:"+(h-21)+"px;position:absolute;top:15px;left:-12px;margin:0;padding:0;z-index:"+d+'"></div>');
p&&a("body").append(i);if(n){var b=a(this);jQuery.data(b,"position",{top:k.top,left:k.left,width:g,height:h});a(b).doTimeout(j,o,function(){var t=jQuery.data(b,"position").top,u=jQuery.data(b,"position").left,v=jQuery.data(b,"position").width,w=jQuery.data(b,"position").height,q=a(b).offset();if(t!=q.top||u!=q.left||v!=a(b).outerWidth()||w!=a(b).outerHeight()){jQuery.removeData(b);a(b).doTimeout(j);a(b).shadowOff();a(b).shadowOn({imagepath:e,imageset:f,autoresize:n,resizetimer:o});return false}return true})}}})};
a.fn.shadowOn.defaults={imagepath:"images",imageset:"4",autoresize:true,resizetimer:250};a.fn.shadowOff=function(){return this.each(function(m,c){if(a(c).hasClass("shadowOn")){a(c).removeClass("shadowOn");a(c).children("div.shadowOnBit").remove()}else if(a(c).hasClass("shadowOnWrapper")){var e=a(c).attr("rel");a("#"+e).remove();a(c).removeClass("shadowOnWrapper");a(c).removeAttr("rel")}})}})(jQuery);
/*!
 * jquery.yoxthumbs v0.9
 * jQuery thumbnails plugin
 * http://yoxigen.com/
 *
 * Copyright (c) 2010 Yossi Kolesnicov
 *
 * Date: 25th April, 2010
 * Version : 0.9
 */ 
(function(g){function k(c,b){function h(a){var d=jQuery("<a>",{href:a.link}),e=jQuery("<img>",{src:a.thumbnailSrc,alt:a.media.alt,title:a.media.title});a.data&&d.data("yoxthumbs",a.data);a.thumbnailDimensions&&e.css({width:a.thumbnailDimensions.width,height:a.thumbnailDimensions.height});e.appendTo(d);return d}var i=this;c.data("yoxview")&&c.data("yoxview");var f=jQuery,j=c[0].tagName=="A";b.images&&jQuery.each(b.images,function(a,d){c.append(h(d))});this.thumbnails=j?c:c.find("a:has(img)");f.each(this.thumbnails, function(a,d){f(d).data("yoxthumbs",f.extend({imageIndex:a},f(d).data("yoxthumbs")))});if(b.thumbsOpacity){this.thumbnails.css("opacity",b.thumbsOpacity);c.delegate("a:has(img)","mouseenter.yoxthumbs",function(a){if(i.currentSelectedIndex===undefined||f(a.currentTarget).data("yoxthumbs").imageIndex!=i.currentSelectedIndex)f(a.currentTarget).stop().animate({opacity:1},b.thumbsOpacityFadeTime)}).delegate("a:has(img)","mouseout.yoxthumbs",function(a){if(i.currentSelectedIndex===undefined||f(a.currentTarget).data("yoxthumbs").imageIndex!= i.currentSelectedIndex)f(a.currentTarget).stop().animate({opacity:b.thumbsOpacity},b.thumbsOpacityFadeTime)})}if(b.onClick)j?c.bind("click.yoxthumbs",function(a){b.onClick(a);return false}):c.delegate("a:has(img)","click.yoxthumbs",function(a){b.onClick(a);return false});this.select=function(a){if(this.currentSelectedIndex===undefined||this.currentSelectedIndex!=a){var d=this.thumbnails.eq(a),e=c.data("yoxslide");e&&e.show(d);if(this.currentSelectedIndex!==undefined){e=this.thumbnails.eq(this.currentSelectedIndex); e.removeClass(b.selectedThumbnailClassName);b.thumbsOpacity&&e.animate({opacity:b.thumbsOpacity},b.thumbsOpacityFadeTime)}d.addClass(b.selectedThumbnailClassName);b.thumbsOpacity&&d.animate({opacity:1},b.thumbsOpacityFadeTime);this.currentSelectedIndex=a}};this.unload=function(a){f.each(this.thumbnails,function(d,e){f(e).removeData("yoxthumbs");a&&f(e).removeData(a)});c.undelegate("a:has(img)","click.yoxthumbs");j&&c.unbind(".yoxthumbs")}}g.fn.yoxthumbs=function(c){if(typeof c!="string"){var b=g.extend({target:null, selectedThumbnailClassName:"selected",thumbsOpacityFadeTime:300,thumbsOpacity:undefined,prevBtn:undefined,nextBtn:undefined,onClick:undefined,images:undefined},c),h=g(this);h.data("yoxthumbs",new k(h,b))}else if(b=g(this).data("yoxthumbs"))if(g.isFunction(b[c]))b[c].apply(b,Array.prototype.slice.call(arguments,1));else return b[c];return this}})(jQuery);
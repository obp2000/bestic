Yox={compare:function(a,d){function e(g){var h=0;for(var i in g)i!=null&&h++;return h}if(e(a)!=e(d))return false;for(var f in a){var b=a[f],c=d[f];if(typeof b!=typeof c)return false;if(b&&b.length&&b[0]!==undefined&&b[0].tagName){if(!c||c.length!=b.length||!c[0].tagName||c[0].tagName!=b[0].tagName)return false}else if(typeof b=="function"||typeof b=="object"){b=Yox.compare(b,c);if(!b)return b}else if(b!=c)return false}return true},dataRegex:{picasa:/http:\/\/(www.)?picasaweb\.google\..*/,flickr:/http:\/\/(www.)?flickr.com/,
smugmug:/http:\/\/.*\.smugmug.com/},dataSources:[],getDataSourceName:function(a){for(dataSourceIndex in Yox.dataRegex)if(a.match(Yox.dataRegex[dataSourceIndex]))return dataSourceIndex;return null},getPath:function(a){for(var d=document.getElementsByTagName("script"),e=0;e<d.length;e++){var f=d[e].src.match(a);if(f)return f[1]}return null},imageRegex:/.*\.(?:jpg|jpeg|gif|png)/i,queryToJson:function(a){a=a.split("&");var d={};jQuery.each(a,function(){var e=this.split("=");d[e[0]]=e[1]});return d},loadDataSource:function(a,
d,e){var f;if(a.dataUrl)(f=Yox.getDataSourceName(a.dataUrl))&&$.extend(a,{dataSource:dataSourceIndex});a.dataSource&&!Yox.dataSources[f]?$.ajax({url:a.dataFolder+a.dataSource+".js",async:false,dataType:"script",success:function(b){eval(b);eval("Yox.dataSources['"+a.dataSource+"'] = new yox_"+a.dataSource+"();");d(e)},error:function(b,c,g){console.log(b,c,g)}}):d(e)},Sprites:function(a,d,e){this.spritesImage=(new Image).src=d;var f=0;jQuery.each(a,function(b,c){c.top=f;f+=c.height});this.getSprite=
function(b,c,g){return jQuery("<img/>",{src:e,alt:c,title:g,css:{width:a[b].width,height:a[b].height,"background-image":"url("+d+")","background-repeat":"no-repeat","background-position":this.getBackgroundPosition(b,c)}})};this.getBackgroundPosition=function(b,c){return"-"+jQuery.inArray(c,a[b].sprites)*(a[b].width||0)+"px -"+a[b].top+"px"}}};
